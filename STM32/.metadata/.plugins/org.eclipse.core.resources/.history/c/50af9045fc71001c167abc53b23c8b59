#include "com_FPGA_spi.h"


uint8_t txData [2] = {0b01010101, 0b00000000};



void test_spi(){
	//moteur1();
	//cmd_marche_arret();

	//txData[1] = 0b00000000;



	uint16_t data_test = 0b0000000011111111;
	//uint8_t d0 = (uint8_t) data_test;
	//data_test = data_test >> 8;
	//uint8_t d1 = (uint8_t) data_test;

	//txData [0] = d0;
	//txData [1] = d1;

	HAL_SPI_Transmit (&hspi1, &data_test, 2, 100);

	return;
}

void test_spi_inverse(){
	uint8_t txData_i [2] = {0b01000000, 0b10000010};
	HAL_SPI_Transmit (&hspi1,txData_i,2,100);


}


void spi_transmit(){
	HAL_SPI_Transmit (&hspi1,txData,2,100);
	return;
}




/// CONGIG COMMANDE

void moteur1(){
	txData[0] &=  0b01111111;
}

void moteur2(){
	txData[0] |= 0b10000000;
}

void cmd_marche_arret(){

	txData[0] &=  0b11111001;
	txData[0] |=  0b00000001;
}

void sens_rotation(){
	txData[0] &=  0b11111010;
	txData[0] |=  0b00000010;
}

void config_freq_PWM(){
	txData[0] &=  0b11111100;
	txData[0] |=  0b00000100;
}

void vit_rap_cyc(){
	txData[0] &=  0b11111111;
	txData[0] |=  0b00000111;
}



void fct_vierge(){
	txData[0] &=  0b11111111;
	txData[0] |=  0b00000000;
}


/// CONFIG VALUE



